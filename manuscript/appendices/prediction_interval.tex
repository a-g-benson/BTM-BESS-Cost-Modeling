\section{Prediction Intervals}\label{apdx:prediction_interval}

As discussed in Subsection \ref{sec:lit_uncertainty}, there is a difference between uncertainty in the mean and uncertainty attributable to variance in individual outcomes. A common convention is to distinguish between these two types of uncertainty by reserving the term ``confidence interval'' for bounding uncertainty in the mean (such as of parameter or the condition mean of the outcome) and using the term ``prediction interval'' to refer to bounds on uncertainty of an individual prediction. Both intervals are centered on the best estimate of the mean, but they differ in their standard errors.

Under the classical assumption of normally distributed errors, the standard error for uncertainty in the mean of the dependent variable conditional on a vector of independent variables $\vec{x}_0$ is given by:

\begin{equation} \label{eq:se_c}
se_{c} = RMSE \sqrt{\vec{x}_0' (X'X)^{-1} \vec{x}_0}
\end{equation}

where RMSE is the root mean squared error and $X$ is a matrix containing all the data on the independent variables. The term under the square root is decreasing in sample size and is often less than one. Thus, a value of $se_{c}$ far less than $RMSE$ is fairly typical. For comparison, the standard error for uncertainty (again, assuming normally distributed errors) in the prediction is given by:

\begin{equation} \label{eq:se_p}
se_{p} = RMSE \sqrt{1+\vec{x}_0' (X'X)^{-1} \vec{x}_0}
\end{equation}

The term in the square root is bounded from below by one. Thus, $se_{p}$ cannot be less than RMSE. In the online code appendix, I find that that sample-weighted average value of $se_{p}$ is only 0.05\% larger than the RMSE; for all practical purposes, RMSE is a sufficient measure of prediction uncertainty. Nevertheless, the online code appendix contains code by which $se_{p}$ can be calculated for any particular $\vec{x}_0$, if desired. 

The range of a 95\% prediction interval associated with a prediction generated by Eq. \ref{eq:predict_TL} can be expressed in percentage terms with some algebra. All variables and notation not previously defined are defined in Table \ref{tab:PI_notation}.

 \begin{align*}
    \ln(C_i) = &~\alpha^{s}_{t} +\beta_1 \ln(E_i) +... + \delta_3 \ln(w^{c}_{t}) + \varepsilon_i \tag{\ref{eq:predict_TL}} \\
    \ln(C_{n+1}) = &~\alpha^{s}_{t} +\beta_1 \ln(E_{n+1}) +... + \delta_3 \ln(w^{c}_{t}) + \varepsilon_{n+1} \notag \\
   (\ln(\underline{C}_{n+1}),\ln(\overline{C}_{n+1}))= &~\alpha^{s}_{t} + \beta_1 \ln(E_{n+1}) + ... + \delta_3 \ln(w^{c}_{t}) \pm z_{\alpha/2} \times RMSE \notag \\
   (\underline{C}_{n+1}, \overline{C}_{n+1}) = &~\exp(\alpha^{s}_{t} +\beta_1 \ln(E_{n+1})  ... + \delta_3 \ln(w^{c}_{t})) \exp(\pm z_{\alpha/2} \times RMSE ) \notag  \\
   PI_{n+1} = &~\widehat{C}_{n+1} \times \exp(\pm z_{\alpha/2} \times RMSE ) \tag{\ref{eq:pi_normal}} \\
\end{align*}

For $\alpha = 0.95$ and RMSE = 0.263, the term $\exp(\pm z_{\alpha/2} \times RMSE)$ equates to (0.593, 1.686). Thus, the 95\% prediction interval can be expressed as (-40.7\%, +68.8\%) of the best estimate of the installed cost.

If one uses the assumes that the errors are Laplace distributed, then one should substitute the quantiles of a Laplace distribution associated with coverage probability $\alpha$ in place of $\pm z_{\alpha/2} \times RMSE$. The Laplace distribution in question should be calibrated to match the empirical distribution of residuals, namely: the location parameter ($\widehat{\mu}$) should be set equal to the median of the residuals ($\widehat{e}_i$) and the scale parameter ($\widehat{b}$) should be set equal to the mean absolute deviation of the residuals from the median \citep{kotz2001}:

\begin{equation}
\widehat{b} = \frac{1}{n-2} \sum^{n}_{i=1}  |\widehat{e}_i - \widehat{\mu}|
\end{equation}

The lower ($\underline{Q}(\alpha)$)and upper ($\overline{Q}(\alpha)$) quantiles associated with $1 - \alpha$ coverage probability for a Laplace distribution with location parameter $\widehat{\mu}$ and scale parameter $\widehat{b}$ can be computed from the inverse cumulative distribution function of the Laplace distribution \citep{kotz2001}. The computation of these quantiles simplifies to:

\begin{equation}
(\underline{Q}(\alpha), \overline{Q}(\alpha)) = \widehat{\mu} \pm \widehat{b} \ln(\alpha)
\end{equation}

Hence, the prediction interval under the assumption of Laplace distributed errors equals:

\begin{equation}\label{eq:pi_laplace}
PI_{n+1} = \widehat{C}_{n+1} \times \exp( \widehat{\mu} \pm \widehat{b} \ln(\alpha) ) \\
\end{equation}

\begin{table}[t]
\centering
\input{tables/PI_notation}
\caption{Notation and variable definitions for the derivation of Eq. \ref{eq:pi_normal}}\label{tab:PI_notation}
\end{table}
